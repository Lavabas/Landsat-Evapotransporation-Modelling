# Landsat-Evapotransporation-Modelling using Python API 
## Overview

This repository contains a workflow for estimating and analyzing evapotranspiration (ET) using satellite-derived datasets. The workflow combines Landsat 8 & 9 imagery with OpenET GRIDMET Ensemble ET products to model ET over agricultural areas.

The OpenET Ensemble ET (GRIDMET, CONUS Monthly v2.0) dataset only covers the United States. Therefore, the workflow first applies the ET model to a Southern America / USA region (ROI 1) where data coverage exists. The trained model is then applied to a selected agricultural area in Anuradhapura, Sri Lanka (ROI 2) to predict ET using Landsat-derived NDVI and LST as predictors. This approach allows leveraging USA ET data to generate ET estimates in regions without direct ET measurements.

The analysis includes preprocessing, monthly aggregation, NDVI and land surface temperature (LST) calculation, correlation analysis, and ET prediction using a Random Forest Regressor. Visualization of both observed and predicted ET is also provided.

### NDVI-LST Correlation with ET (ROI 1 – Southern America) 
- Monthly correlation between NDVI, Land Surface Temperature (LST), and Ensemble ET over the Southern America region. Shows spatial patterns of vegetation and temperature influence on evapotranspiration.
<img width="560" height="432" alt="image" src="https://github.com/user-attachments/assets/c9e65b15-01fe-49e6-a876-958d02b9709f" />
<img width="560" height="432" alt="image" src="https://github.com/user-attachments/assets/9fe01cef-03cf-499a-8122-8c6fbc1e98d9" />

### Predicted ET vs Observed ET (ROI 1 – Southern America) 
- Monthly ET predictions using the Random Forest Regressor applied to Landsat-derived NDVI and LST, compared with OpenET Ensemble ET observations. Demonstrates the model’s ability to capture ET variability.
<img width="1688" height="590" alt="image" src="https://github.com/user-attachments/assets/1e2e00fa-0562-4a28-b5ae-582f139ca806" />
<img width="1688" height="590" alt="image" src="https://github.com/user-attachments/assets/e411fff9-fea4-470e-9a14-af88024a2d43" />

### Monthly ET Grids – ROI 2 (Anuradhapura, Sri Lanka) 
- Predicted ET maps for each month of 2024 over the selected agricultural area in Anuradhapura. Generated by applying the trained model from ROI 1 to Sri Lanka.
<img width="1682" height="590" alt="image" src="https://github.com/user-attachments/assets/c8087316-9472-4547-954b-f467e5339924" />



## Tools and Libraries
1. Python 3
2. Google Earth Engine (GEE) Python API
3. geemap – interactive map visualization
4. xee – interface for xarray + Earth Engine
5. xarray – handling multi-dimensional datasets
6. scikit-learn – machine learning (Random Forest)
7. matplotlib – visualization
8. Optional Tools: NumPy, Pandas

## Datasets
1. OpenET Ensemble ET (GRIDMET, CONUS Monthly v2.0)
- Source: OpenET
- Variable: et_ensemble_mad
- Coverage: United States only (used for model training)

2. Landsat 8 & 9 Collection 2, Level 2
- Source: USGS Earth Explorer / GEE
- Used for calculating NDVI, LST, and generating ET predictors in both ROI 1 and ROI 2
- Bands: Surface Reflectance (SR_B4, SR_B5) and Thermal (ST_B10)

## Notes
1. ROI selection is critical: small areas (<0.5 km²) may generate limited grids, while very large areas may slow computation.
2. Resolution and scale parameters should match the ROI size for accurate xarray conversion.
3. Random Forest hyperparameters can be tuned to improve prediction performance.
4. Visualization uses xarray plotting with col_wrap for monthly panels.
